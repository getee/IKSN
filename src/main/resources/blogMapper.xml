<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">



<mapper namespace="group.first.iksn.model.dao.BlogDAO">
    <select id="detailedBlogSearchResultMap" resultMap="searchResultMap">


    </select>

    <insert id="processAddBlog" parameterType="Blog" useGeneratedKeys="true" keyColumn="bid">
        insert into blog(title,content,time,classify) values (#{title},#{content},#{time},#{classify})
    </insert>
     <!--定义的一个reaultmap结果集合来存储关联查询到的详细的博客，类型是自定义类型-->
    <resultMap id="searchResultMap" type="Blog">

    </resultMap>
    <insert id="addIllegalblog" parameterType="IllegalBlog">
        insert into illegalblog(bid,illegalcause) values (#{bid},#{illegalcause})
    </insert>
    <select id="getAllReportBlog" resultType="IllegalBlog">
        select * from illegalblog
    </select>
    <!--结果集合用来存储查询illegalblog表级联查询blog表-->
    <resultMap id="getBlogBy_IBlogId" type="IllegalBlog">
        <id column="id" property="id"/>
        <result column="bid" property="bid"/>
        <result column="illegalcause" property="illegalcause"/>

        <association property="blog" javaType="Blog">
            <id column="bid" property="bid"/>
            <result column="title" property="title"/>
        </association>
    </resultMap>
</mapper>